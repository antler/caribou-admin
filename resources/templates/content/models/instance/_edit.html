<table class="table table-striped table-bordered">
  <thead>
    <tr>
      <th>Field</th>
      <th>Type</th>
      {{#bulk?}}<th>Update?</th>{{/bulk?}}
      <th>Value</th>
    </tr>
  </thead>
  <tbody class="" data-position='{ "model":"field", "offset": 0, "field":"model_position" }'>

  {{!TODO: fix this hidden-field nonsense}}

  {{#bulk?}}<input type="hidden" name="ids" value="{{ids}}" />{{/bulk?}}

  {{#model.fields:field}}
    {{! Only showing editable fields for now}}
    {{#or field.editable params.show_hidden}}
      {{^join-model? field}}
      <tr data-position='{ "position": {{model_position}}, "id": "{{id}}" }' {{#locked}}class="error"{{/locked}}>
        <td>{{name}}</td>
        <td>{{type}}</td>
        {{#bulk?}}<td><input type="checkbox" value="{{field.slug}}" name="caribou-update" /></td>{{/bulk?}}
        <td>
          {{! show the edit template for editable fields }}
          {{!#editable}}
            {{> templates/content/models/fields/edit/_[[type]].html }}
          {{!/editable}}
          {{! and the view template for non-editable fields - TODO:kd - do we even want to show these? }}
          {{!^editable}}
          {{!> templates/content/models/fields/view/_[[type]].html }}
          {{!/editable}}
        </td>
      </tr>
      {{/join-model? field}}
    {{/or field.editable params.show_hidden}}
  {{/model.fields:field}}
  </tbody>
</table>

{{#model.localized}}
<table class="table table-striped table-bordered">
  <thead>
    <tr>
      <th>This content can be localized.</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <select name="locale">
          <option value="">Global</option>
          {{#locales:item}}
          <option value="{{item.code}}" {{#equals item.code locale.code}}selected{{/equals item.code locale.code}}>{{item.code}}{{#item.language}} ({{item.language}}){{/item.language}} {{#item.region}} ({{item.region}}){{/item.region}}</option>
          {{/locales:item}}
        </select> 
      </td>
    </tr>
  </tbody>
</table>
{{/model.localized}}
